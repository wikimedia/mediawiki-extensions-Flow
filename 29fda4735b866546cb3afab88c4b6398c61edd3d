{
  "comments": [
    {
      "key": {
        "uuid": "e37aeb69_e05d119d",
        "filename": "includes/Notifications/FlowPresentationModel.php",
        "patchSetId": 6
      },
      "lineNbr": 174,
      "author": {
        "id": 128
      },
      "writtenOn": "2019-05-03T11:56:08Z",
      "side": 1,
      "message": "checking this permission here seems to be a change in semantics. Am I missing something? We want to bail out if it\u0027s not watched. This now also bails out if the user doesn\u0027t have the right to view the watchlist.",
      "revId": "29fda4735b866546cb3afab88c4b6398c61edd3d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44b272e1_48b2a445",
        "filename": "includes/Notifications/FlowPresentationModel.php",
        "patchSetId": 6
      },
      "lineNbr": 174,
      "author": {
        "id": 273
      },
      "writtenOn": "2019-05-05T21:55:30Z",
      "side": 1,
      "message": "I am just following User::isWatched logic where it checks for $title-\u003eisWatchable() and then for $this-\u003eisAllowed( \u0027viewmywatchlist\u0027 ) unless User::IGNORE_USER_RIGHTS flag is passed",
      "parentUuid": "e37aeb69_e05d119d",
      "revId": "29fda4735b866546cb3afab88c4b6398c61edd3d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd9c0c0e_b490cf31",
        "filename": "includes/View.php",
        "patchSetId": 6
      },
      "lineNbr": 224,
      "author": {
        "id": 128
      },
      "writtenOn": "2019-05-03T11:56:08Z",
      "side": 1,
      "message": "This is the second time i see this complex conditional. Perhaps it should be in a function?",
      "revId": "29fda4735b866546cb3afab88c4b6398c61edd3d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62420621_37fe3d6b",
        "filename": "includes/View.php",
        "patchSetId": 6
      },
      "lineNbr": 224,
      "author": {
        "id": 273
      },
      "writtenOn": "2019-05-05T21:55:30Z",
      "side": 1,
      "message": "Yep, this looks a bit weird for me too, but can you think about a better alternative to keep permission checks and watch checks decoupled? Or you mean to introduce a local helper function to wrap this complex condition into it?",
      "parentUuid": "bd9c0c0e_b490cf31",
      "revId": "29fda4735b866546cb3afab88c4b6398c61edd3d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65ec0f5d_4dc4e332",
        "filename": "includes/View.php",
        "patchSetId": 6
      },
      "lineNbr": 224,
      "author": {
        "id": 128
      },
      "writtenOn": "2019-05-07T17:16:59Z",
      "side": 1,
      "message": "Hm... viewmywatchlist and editmywatchlist only makes sense in the context of oath. If these rights are absent, the entire WatchedItemStore should probably be a fake that does nothing and returns false. \n\nThis is too big a topic to be discussed here, but perhaps there should be a ticket about it, that could be referenced in a comment here. Basically, the questions is whether WatchedItemStore should just be (partially) disabled if the relevant permissions are missing.",
      "parentUuid": "62420621_37fe3d6b",
      "revId": "29fda4735b866546cb3afab88c4b6398c61edd3d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}