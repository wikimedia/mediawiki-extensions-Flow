{
  "comments": [
    {
      "key": {
        "uuid": "c1e07508_c680279d",
        "filename": "modules/engine/components/common/flow-component-events.js",
        "patchSetId": 2
      },
      "lineNbr": 468,
      "author": {
        "id": 34
      },
      "writtenOn": "2019-03-12T17:41:53Z",
      "side": 1,
      "message": "These elements (mw-parser-output) don\u0027t appear to be owned by Flow. If the case, then presumably this data key should be namespaced in some way to avoid confusion/conflicts. E.g. mw-flow-* or flow-*",
      "range": {
        "startLine": 468,
        "startChar": 28,
        "endLine": 468,
        "endChar": 51
      },
      "revId": "f93a794c8e71b9c2895a2f69fa126a56404fef98",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fdff04b0_e31440ca",
        "filename": "modules/engine/components/common/flow-component-events.js",
        "patchSetId": 2
      },
      "lineNbr": 468,
      "author": {
        "id": 34
      },
      "writtenOn": "2019-03-12T17:43:47Z",
      "side": 1,
      "message": "I",
      "parentUuid": "c1e07508_c680279d",
      "range": {
        "startLine": 468,
        "startChar": 28,
        "endLine": 468,
        "endChar": 51
      },
      "revId": "f93a794c8e71b9c2895a2f69fa126a56404fef98",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4da99b9f_47051248",
        "filename": "modules/engine/components/common/flow-component-events.js",
        "patchSetId": 2
      },
      "lineNbr": 468,
      "author": {
        "id": 34
      },
      "writtenOn": "2019-03-12T17:46:16Z",
      "side": 1,
      "message": "Hook handlers for MW JS are generally expected to be able to handle a second firing for something that was already fired, either a subset or the same. I don\u0027t know exactly how often this happens as I don\u0027t know about how Flow works, but it might be helpful to document what problem this data-key/deduplication logic is solving. Is there a functional bug otherwise, or a performance issue, if it\u0027s only a small or anticipated perf issue, then it might not be worth it.\n\nAlternatively, if it\u0027s a big issue, like every single comment or post or some such, and it re-firing every time, then perhaps it is not the right place to fire it. E.g. presumably some code somewhere is responsible for replacing or creating such sub trees, and it could be fired from there instead.",
      "parentUuid": "fdff04b0_e31440ca",
      "range": {
        "startLine": 468,
        "startChar": 28,
        "endLine": 468,
        "endChar": 51
      },
      "revId": "f93a794c8e71b9c2895a2f69fa126a56404fef98",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a277d34a_c950b573",
        "filename": "modules/engine/components/common/flow-component-events.js",
        "patchSetId": 2
      },
      "lineNbr": 468,
      "author": {
        "id": 5
      },
      "writtenOn": "2019-03-12T21:59:49Z",
      "side": 1,
      "message": "These mw-parser-output divs are in fact owned by Flow: they\u0027re inside the Parsoid output for Flow comments. (You\u0027re right that hook calls shouldn\u0027t need to be deduplicated though.",
      "parentUuid": "4da99b9f_47051248",
      "range": {
        "startLine": 468,
        "startChar": 28,
        "endLine": 468,
        "endChar": 51
      },
      "revId": "f93a794c8e71b9c2895a2f69fa126a56404fef98",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca683bd2_b80fd798",
        "filename": "modules/flow-initialize.js",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 34
      },
      "writtenOn": "2019-03-12T17:43:47Z",
      "side": 1,
      "message": "by whom? by core? If so, then the above would already handle that, right? mw.hook has memory (by design).",
      "range": {
        "startLine": 29,
        "startChar": 5,
        "endLine": 29,
        "endChar": 62
      },
      "revId": "f93a794c8e71b9c2895a2f69fa126a56404fef98",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}