{
  "comments": [
    {
      "key": {
        "uuid": "ee14bf34_86ebe69f",
        "filename": "tests/RevisionCollectionPermissionsTest.php",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 776
      },
      "writtenOn": "2014-03-20T23:43:59Z",
      "side": 1,
      "message": "This seems to do the exact opposite of what the comment says?",
      "revId": "17758dc7b71f2f7e4266f381794af206fcd5b363",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee14bf34_785bcb26",
        "filename": "tests/RevisionCollectionPermissionsTest.php",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 106
      },
      "writtenOn": "2014-03-21T16:10:10Z",
      "side": 1,
      "message": "Well the code does the same as it did before.\nAs for the comment we could just remove it as its overly confusing",
      "parentUuid": "ee14bf34_86ebe69f",
      "revId": "17758dc7b71f2f7e4266f381794af206fcd5b363",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee14bf34_78650baa",
        "filename": "tests/RevisionCollectionPermissionsTest.php",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 776
      },
      "writtenOn": "2014-03-21T16:42:56Z",
      "side": 1,
      "message": "the code does not do the same as before.  If you cant comprehend what the code does or read the comments and understand why then don\u0027t change it",
      "parentUuid": "ee14bf34_785bcb26",
      "revId": "17758dc7b71f2f7e4266f381794af206fcd5b363",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee14bf34_38c43368",
        "filename": "tests/RevisionCollectionPermissionsTest.php",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 106
      },
      "writtenOn": "2014-03-21T16:53:13Z",
      "side": 1,
      "message": "Before the code...\n- first creates an empty array.\n- then loads the default settings which are already loaded\n- Then merges wgGroupPermissions (which is an empty array..) with $wgFlowGroupPermissions leaving wgGroupPermissions equal to wgFlowGroupPermissions\n- Then it sets wgGroupPermissions  to this array which is equal to wgFlowGroupPermissions \n\nWhy on earth is it even doing require \"$IP/includes/DefaultSettings.php\"...",
      "parentUuid": "ee14bf34_78650baa",
      "revId": "17758dc7b71f2f7e4266f381794af206fcd5b363",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee14bf34_58a6c7bf",
        "filename": "tests/RevisionCollectionPermissionsTest.php",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 776
      },
      "writtenOn": "2014-03-21T16:57:07Z",
      "side": 1,
      "message": "$wgFlowGroupPermissions contains the global configuration as modified by the local wiki.  This test will not pass if the local wiki has any custom flow group permissions configuration with your changes.",
      "parentUuid": "ee14bf34_38c43368",
      "revId": "17758dc7b71f2f7e4266f381794af206fcd5b363",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee14bf34_b643afb5",
        "filename": "tests/RevisionCollectionPermissionsTest.php",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 106
      },
      "writtenOn": "2014-03-22T18:24:20Z",
      "side": 1,
      "message": "Then really each permission should be set when testing that permission,\nrather than the current load everything approach :/",
      "parentUuid": "ee14bf34_58a6c7bf",
      "revId": "17758dc7b71f2f7e4266f381794af206fcd5b363",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee14bf34_f0148646",
        "filename": "tests/RevisionCollectionPermissionsTest.php",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 214
      },
      "writtenOn": "2014-03-24T11:27:58Z",
      "side": 1,
      "message": "The original code loads DefaultSettings.php to get the default $wgGroupPermissions (as defined in DefaultSettings.php)\n\nThis is done because different wikis can have different $wgGroupPermissions in their LocalSettings.php (or via CommonSettings.php for WMF wikis). Loading those from DefaultSettings.php instead always guarantees that these tests will perform under the same circumstances, regardless of the wiki\u0027s custom permissions config.\n\nThen, $wgFlowGroupPermissions are added to the default $wgGroupPermissions, to make sure we have our Flow-specific permissions loaded as well. This too is from Flow source file, not any local config (unless a local config makes changes to $wgFlowGroupPermissions, which should not just be altered, as stated in the comments in Flow.php - $wgGroupPermissions should be changed instead)\n\nLoading DefaultSettings.php will not change much: all variables in there will just be loaded in the scope of this function (so loading it doesn\u0027t do any harm). From there, we\u0027ll get a fresh copy of $wgGroupPermissions, add Flow\u0027s permissions, and set it as a global for this test.\n\nI think it should stay like it is, or this test becomes unreliable with different $wgGroupPermissions configs per wiki.",
      "parentUuid": "ee14bf34_b643afb5",
      "revId": "17758dc7b71f2f7e4266f381794af206fcd5b363",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}